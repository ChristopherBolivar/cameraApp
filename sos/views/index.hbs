<ons-navigator id="appNavigator" swipeable swipe-target-width="80px">
        <ons-page>
          <ons-splitter id="appSplitter">
            <ons-splitter-side id="sidemenu" page="sidemenu.html" swipeable side="right" collapse="" width="260px"></ons-splitter-side>
            <ons-splitter-content page="tabbar.html"></ons-splitter-content>
          </ons-splitter>
        </ons-page>
      </ons-navigator>
      
      <template id="tabbar.html">
        <ons-page id="tabbar-page">
          <ons-tabbar swipeable id="appTabbar" position="auto">
            <ons-tab label="Home" icon="ion-home" page="home.html" active></ons-tab>
            <ons-tab id="triggerCam" label="camera" icon="ion-camera" page="cam.html"></ons-tab>
          </ons-tabbar>
      
          <script>
            ons.getScriptPage().addEventListener('prechange', function(event) {
              if (event.target.matches('#appTabbar')) {
                event.currentTarget.querySelector('ons-toolbar .center').innerHTML = event.tabItem.getAttribute('label');
              }
            });
          </script>
        </ons-page>
      </template>
      
      <template id="sidemenu.html">
        <ons-page>
          <div class="profile-pic">
            <img src="https://monaca.io/img/logos/download_image_onsenui_01.png">
          </div>
      
          <ons-list-title>Access</ons-list-title>
          <ons-list>
            <ons-list-item onclick="fn.loadView(0)">
              <div class="left">
                <ons-icon fixed-width class="list-item__icon" icon="ion-home, material:md-home"></ons-icon>
              </div>
              <div class="center">
                Home
              </div>
              <div class="right">
                <ons-icon icon="fa-link"></ons-icon>
              </div>
            </ons-list-item>
            <ons-list-item onclick="fn.loadView(1)">
              <div class="left">
                <ons-icon fixed-width class="list-item__icon" icon="ion-edit, material:md-edit"></ons-icon>
              </div>
              <div class="center">
                Forms
              </div>
              <div class="right">
                <ons-icon icon="fa-link"></ons-icon>
              </div>
            </ons-list-item>
            <ons-list-item onclick="fn.loadView(2)">
              <div class="left">
                <ons-icon fixed-width class="list-item__icon" icon="ion-film-marker, material: md-movie-alt"></ons-icon>
              </div>
              <div class="center">
                Animations
              </div>
              <div class="right">
                <ons-icon icon="fa-link"></ons-icon>
              </div>
            </ons-list-item>
          </ons-list>
      
          <ons-list-title style="margin-top: 10px">Links</ons-list-title>
          <ons-list>
            <ons-list-item onclick="fn.loadLink('https://onsen.io/v2/docs/guide/js/')">
              <div class="left">
                <ons-icon fixed-width class="list-item__icon" icon="ion-document-text"></ons-icon>
              </div>
              <div class="center">
                Docs
              </div>
              <div class="right">
                <ons-icon icon="fa-external-link"></ons-icon>
              </div>
            </ons-list-item>
            <ons-list-item onclick="fn.loadLink('https://github.com/OnsenUI/OnsenUI')">
              <div class="left">
                <ons-icon fixed-width class="list-item__icon" icon="ion-social-github"></ons-icon>
              </div>
              <div class="center">
                GitHub
              </div>
              <div class="right">
                <ons-icon icon="fa-external-link"></ons-icon>
              </div>
            </ons-list-item>
            <ons-list-item onclick="fn.loadLink('https://community.onsen.io/')">
              <div class="left">
                <ons-icon fixed-width class="list-item__icon" icon="ion-chatboxes"></ons-icon>
              </div>
              <div class="center">
                Forum
              </div>
              <div class="right">
                <ons-icon icon="fa-external-link"></ons-icon>
              </div>
            </ons-list-item>
            <ons-list-item onclick="fn.loadLink('https://twitter.com/Onsen_UI')">
              <div class="left">
                <ons-icon fixed-width class="list-item__icon" icon="ion-social-twitter"></ons-icon>
              </div>
              <div class="center">
                Twitter
              </div>
              <div class="right">
                <ons-icon icon="fa-external-link"></ons-icon>
              </div>
            </ons-list-item>
          </ons-list>
      
          <script>
            ons.getScriptPage().onInit = function() {
              // Set ons-splitter-side animation
              this.parentElement.setAttribute('animation', ons.platform.isAndroid() ? 'overlay' : 'reveal');
            };
          </script>
      
          <style>
            .profile-pic {
              width: 200px;
              background-color: #fff;
              margin: 20px auto 10px;
              border: 1px solid #999;
              border-radius: 4px;
            }
      
            .profile-pic > img {
              display: block;
              max-width: 100%;
            }
      
            ons-list-item {
              color: #444;
            }
          </style>
        </ons-page>
      </template>
      
      <template id="home.html">
        <ons-page>
          <div id="intro-page">
             <p class="intro">
                    <script>
                            var showTemplateDialog = function() {
                              var dialog = document.getElementById('my-dialog');
  
                              if (dialog) {
                                  dialog.show();
                              } else {
                                  ons.createElement('dialog.html', { append: true })
                                  .then(function(dialog) {
                                      dialog.show();
                                  });
                              }
                              };
  
                              var hideDialog = function(id) {
                              document
                                  .getElementById(id)
                                  .hide();
                              };
                        </script>
               <h1>SOSVisa</h1>
               <p>The app for natural disaster victims seeking temporary entry to the safey of the U.S.A </p>
              
                    <ons-button onclick="showTemplateDialog()">Login</ons-button>
                 
                  
                  <template id="dialog.html">
                    <ons-dialog id="my-dialog">
                      <div style="text-align: center; padding: 10px;">
                            <p>
                                    <ons-input id="username" placeholder="Username" modifier="underbar"></ons-input>
                                  </p>
                              
                                  <p>
                                    <ons-input
                                      id="password"
                                      placeholder="Password"
                                      type="password"
                                      modifier="underbar"
                                    >
                                    </ons-input>
                        <p>
                          <ons-button onclick="hideDialog('my-dialog')">Close</ons-button>
                        </p>
                      </div>
                    
                    </ons-dialog>
                  </template>
               <ons-button modifier="material--flat">Sign-Up</ons-button>
             </p>
          </div>
        
          <style>
            .intro {
              text-align: center;
              padding: 0 20px;
              margin-top: 40px;
            }
            #intro-page{
              text-align: center;
            }
      
            ons-card {
              cursor: pointer;
              color: #333;
            }
      
            .card__title,
            .card--material__title {
              font-size: 20px;
            }
          </style>
        </ons-page>
      </template>
      

      <template id="cam.html">
        <ons-page id="camera">     
            <canvas id="camera--sensor"></canvas>        <!-- Camera view -->
            <video id="camera--view" autoplay playsinline></video> 
            <img src="//:0" alt="" id="camera--output">        <!-- Camera output -->
            <button id="camera--trigger">Take a picture</button>     <!-- Reference to your JavaScript file -->
         <script>
                      // Set constraints for the video stream
            var constraints = { video: { facingMode: "user" }, audio: false };// Define constants
            const cameraButton = document.querySelector('#triggerCam')
            const cameraView = document.querySelector("#camera--view"),
                cameraOutput = document.querySelector("#camera--output"),
                cameraSensor = document.querySelector("#camera--sensor"),
                cameraTrigger = document.querySelector("#camera--trigger")// Access the device camera and stream to cameraView
                cameraButton.onclick = function() {
                navigator.mediaDevices
                    .getUserMedia(constraints)
                    .then(function(stream) {
                    track = stream.getTracks()[0];
                    cameraView.srcObject = stream;
                })
                .catch(function(error) {
                    console.error("Oops. Something is broken.", error);
                });
            }// Take a picture when cameraTrigger is tapped
            cameraTrigger.onclick = function() {
                cameraSensor.getContext("2d").drawImage(cameraView, 0, 0);
                cameraOutput.src = cameraSensor.toDataURL("image/webp");
                cameraOutput.classList.add("taken");
                dataURL = cameraSensor.toDataURL('png');
                console.log(dataURL)
             };
         </script> 
           <style>
                #camera--view, #camera--sensor{
                  transform: scaleX(-1);
                  filter: FlipH;
                  z-index: 99;
                }#camera--trigger{
                  width: 200px;
                  background-color: black;
                  color: white;
                  font-size: 16px;
                  border-radius: 30px;
                  border: none;
                  padding: 15px 40px;
                  text-align: center;
                  box-shadow: 0 5px 10px 0 rgba(0,0,0,0.2);
                  position: fixed;
                  bottom: 30px;
                  z-index: 100;
                }
           </style>
        </ons-page>

      </template>

      <style>
        ons-splitter-side[animation=overlay] {
          border-left: 1px solid #bbb;
        }
      </style>
